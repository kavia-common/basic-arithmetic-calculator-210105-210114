{"is_source_file": true, "format": "JavaScript", "description": "This file implements an audit logging module for a calculator application, including functions to build audit entries, persist logs to localStorage, and expose public methods for appending, retrieving, clearing, and exporting audit logs. It also contains helper functions for specific audit actions like input, operator, compute, clear, and error events.", "external_files": ["./auth"], "external_methods": ["getSubjectId"], "published": ["append", "getAll", "clear", "exportJson", "auditDigit", "auditOperator", "auditCompute", "auditClear", "auditError"], "classes": [], "methods": [{"name": "persist()", "description": "Persists the in-memory audit log to localStorage.", "scope": "", "scopeKind": ""}, {"name": "buildEntry({ action,  before = null, after = null, subjectId, metadata = {}, error = null, })", "description": "Builds a standard audit entry object with current timestamp and provided details.", "scope": "", "scopeKind": ""}, {"name": "append(entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "auditClear({ beforeState, afterState })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "auditCompute({ beforeState, afterState })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "auditDigit({ beforeState, afterState, reason = '' })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "auditError({ beforeState, afterState, error })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "auditOperator({ beforeState, afterState })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "clear()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "exportJson()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getAll()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "JSON.parse", "localStorage.setItem", "JSON.stringify"], "search-terms": ["audit log", "localStorage", "buildEntry", "auditDigit", "auditOperator", "auditCompute", "auditClear", "auditError", "persist", "exportJson"], "state": 2, "file_id": 15, "knowledge_revision": 62, "git_revision": "", "revision_history": [{"32": ""}, {"62": ""}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^const STORAGE_KEY = 'calculator_audit_log_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "append", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function append(entry) {$/", "language": "JavaScript", "kind": "function", "signature": "(entry)"}, {"_type": "tag", "name": "auditClear", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function auditClear({ beforeState, afterState }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ beforeState, afterState })"}, {"_type": "tag", "name": "auditCompute", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function auditCompute({ beforeState, afterState }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ beforeState, afterState })"}, {"_type": "tag", "name": "auditDigit", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function auditDigit({ beforeState, afterState, reason = '' }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ beforeState, afterState, reason = '' })"}, {"_type": "tag", "name": "auditError", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function auditError({ beforeState, afterState, error }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ beforeState, afterState, error })"}, {"_type": "tag", "name": "auditOperator", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function auditOperator({ beforeState, afterState }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ beforeState, afterState })"}, {"_type": "tag", "name": "buildEntry", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^function buildEntry({$/", "language": "JavaScript", "kind": "function", "signature": "({ action,  before = null, after = null, subjectId, metadata = {}, error = null, })"}, {"_type": "tag", "name": "clear", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function clear() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "exportJson", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function exportJson() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getAll", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^export function getAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "memoryLog", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^let memoryLog = [];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^    const parsed = JSON.parse(persisted);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^function persist() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "persisted", "path": "/home/kavia/workspace/code-generation/basic-arithmetic-calculator-210105-210114/react_js_frontend/src/lib/audit.js", "pattern": "/^  const persisted = localStorage.getItem(STORAGE_KEY);$/", "language": "JavaScript", "kind": "constant"}], "hash": "28ad1095c2cea3de33d82f6f524a40d6", "format-version": 4, "code-base-name": "react_js_frontend", "filename": "react_js_frontend/src/lib/audit.js", "fields": [{"name": "let memoryLog = [];", "scope": "", "scopeKind": "", "description": "unavailable"}]}